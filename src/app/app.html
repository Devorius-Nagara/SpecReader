<ng-container *ngIf="t$ | async as t">
  <div class="top-bar">
    <h1>{{ t.title }}</h1>
    <button class="settings-btn" (click)="openSettings()">‚öôÔ∏è {{ t.settings }}</button>
  </div>

  <div id="status">{{ status$ | async }}</div>

  <div class="grid">
    <div *ngFor="let q of queues$ | async" class="card" [ngClass]="q.statusClass">
      <div class="queue-name">{{ q.name }}</div>
      <div class="queue-id">{{ q.id }}</div>

      <div class="caller-lang">{{ q.caller_lang || 'üåê ‚Äî' }}</div>
      <div class="caller-name">{{ q.caller_name || 'üìû ‚Äî' }}</div>

      <div class="queue-count">{{ q.queued_calls }}</div>

      <div class="queue-stats">
        üë• Logged: <span>{{ q.logged_in }}</span><br>
        ‚úÖ Available: <span>{{ q.available }}</span><br>
        ‚è≥ Waiting time: <span>{{ formatTime(q.hold) }}</span>
      </div>
    </div>
  </div>

  <div class="modal" [class.show]="isSettingsOpen">
    <div class="modal-content">
      <h2>{{ t.settings }}</h2>

      <div class="settings-group">
        <label><strong>{{ t.visibleQueues }}</strong></label>
        <div *ngFor="let id of allQueueIds">
          <label>
            <input type="checkbox"
                   [checked]="tempVisibleIds.has(id)"
                   (change)="toggleQueueVisibility(id, $event)">
            {{ id }} - {{ getQueueName(id) }}
          </label>
        </div>
      </div>

      <div class="settings-group">
        <strong>{{ t.language }}:</strong>
        <select [(ngModel)]="tempLang">
          <option value="ua">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
          <option value="en">English</option>
        </select>
      </div>

      <div class="settings-group">
        <strong>Theme:</strong>
        <label><input type="radio" name="theme" value="light" [(ngModel)]="tempTheme"> {{ t.light }}</label>
        <label><input type="radio" name="theme" value="dark" [(ngModel)]="tempTheme"> {{ t.dark }}</label>
      </div>

      <div class="modal-buttons">
        <button type="button" class="cancel-btn" (click)="closeSettings()">{{ t.cancel }}</button>
        <button type="button" class="save-btn" (click)="saveSettings()">{{ t.save }}</button>
      </div>
    </div>
  </div>

  <div class="cheatsheet card">
    <div>
      <h3>üìå Prefixes | Call numbers</h3>
      <ul>
        <li>TrackEnsure Support: <strong>04</strong> +1(916)000-12-00</li>
        <li>Alfa Support: <strong>06</strong> +1(469)000-27-00</li>
        <li>Vista Support: <strong>09</strong> +1(614)000-22-00 </li>
        <li>Swift Support: <strong>08</strong> +1(678)000-51-00</li>
        <li>Sharp Support: <strong>03</strong> +1(862)000-38-00</li>
        <li>Club Support: <strong>02</strong> +1(615)000-55-00 </li>
        <li>Pro-TracKing Support: <strong>11</strong> +1(623)000-44-00</li>
        <li>Smart eLog Support: <strong>13</strong> +1(916)000-66-00</li>
        <li>KGZ: <strong>12</strong> +1(217)000-12-00</li>
      </ul>
    </div>
    <div>
      <h3>üíº Sales</h3>
      <ul>
        <li>TrackEnsure Sales: <strong>704</strong></li>
        <li>Alfa Sales: <strong>725</strong></li>
        <li>Vista Sales: <strong>726</strong></li>
        <li>Swift Sales: <strong>728</strong></li>
        <li>Sharp Sales: <strong>755</strong></li>
        <li>Club Sales: <strong>746</strong></li>
        <li>Pro-TracKing Sales: <strong>782</strong></li>
        <li>Smart eLog Sales: <strong>812</strong></li>
      </ul>
    </div>
  </div>
</ng-container>
